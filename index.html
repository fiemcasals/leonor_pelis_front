<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CINEMAFLEX</title>
    <link rel="shortcut icon" href="faviconn.ico" type="image/x-icon" />
    <link rel="stylesheet" href="./css/bootstrap.min.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./css/bootstrap_estilo.css" />
  </head>

  <body class="body">
    <header class="header">
      <nav class="navbar navbar-expand-lg navbar-light bg-warning">
        <div class="container-fluid">
          <a class="anclaLogo" href="#">
            <img
              class="animacion"
              src="./assets/img/285656_movie_icon.png"
              alt="Logo de CINEMAFLEX"
              width="40"
              loading="lazy"
            />
            <span>CINEMAFLEX</span>
          </a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>

          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul
              class="navbar-nav me-auto mb-2 mb-lg-0 w-100 justify-content-end"
            >
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="#Cartelera"
                  >Cartelera</a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link" href="./pages/registrarse.html"
                  >-Registrarse</a
                >
              </li>
              <li class="nav-item">
                <a class="nav-link" href="./pages/iniciosesion.html"
                  >-Iniciar Sesión</a
                >
              </li>
            </ul>
          </div>
        </div>
      </nav>
      <!--<nav class="navegacion">
        <a class="anclaLogo" href="#">
          <img
            class="animacion"
            src="./assets/img/285656_movie_icon.png"
            alt="Logo de CINEMAFLEX"
            width="40"
            loading="lazy"
          />
          <span>CINEMAFLEX</span>
          <!--etiqueta abierta multimedia, imagen-->
      <!--</a>!-->
      <!--lista desordenada ul/ lista ordenada ol-->
      <!--<ul class="listaNav">
          <li>
            <a href="#Cartelera">Cartelera</a>
          </li>
          <li>
            <a href="./pages/registrarse.html">Registrarse</a>
          </li>
          <li>
            <a href="./pages/iniciosesion.html">Iniciar Sesión</a>
          </li>
        </ul>
      </nav>  !-->
    </header>
    <main id="flecha" class="main">
      <section class="principal">
        <h1 class="tituloPrincipal">Accion, Comedia, Suspenso y mucho más</h1>
        <h2 class="tituloSecundario">Sólo tenés que registrarte</h2>
        <a class="botonRegistro" href="./pages/registrarse.html">Registrarse</a>
      </section>
      <section class="secundaria">
        <h2 class="primerTitulo">¿Qué buscás para ver?</h2>
        <form class="contenerBuscar" action="">
          <input class="segundoTexto" type="text" />
          <input class="botonSearch" type="submit" value="Buscar" />
        </form>
      </section>
      <section id="Cartelera" class="Top">
        <h3 class="tituloTop">Cartelera</h3>
        <div class="contenedorPelis">
         <div id="carouselExample" class="carousel slide">
            <div class="carousel-inner">
              <div class="carousel-item active">
                <a href="./pages/detalle.html"
                  ><img
                    class="imgPelis"
                    src="./assets/img/pelis/moana_ver4.jpg"
                    alt="Moana_ver4"
                    loading="lazy"
                /></a>
              </div>
              <div class="carousel-item">
                <a href="./pages/detalle.html">
                  <img
                    class="imgPelis"
                    src="./assets/img/pelis/doctor-extrano-1_vx88.jpg"
                    alt="Doctor Strange"
                    loading="lazy"
                /></a>
              </div>
              <div class="carousel-item">
                <a href="./pages/detalle.html">
                  <img
                    class="imgPelis"
                    src="./assets/img/pelis/exodo.jpg"
                    alt="Exodo"
                    loading="lazy"
                /></a>
              </div>
              <div class="carousel-item">
                <a href="./pages/detalle.html"
                  ><img
                    class="imgPelis"
                    src="./assets/img/pelis/ghostbusters_afterlife_two_ver2_xlg.jpg"
                    alt="Ghostbusters"
                    loading="lazy"
                /></a>
              </div>
              <div class="carousel-item">
                <a href="./pages/detalle.html">
                  <img
                    class="imgPelis"
                    src="./assets/img/pelis/littlemermaide.jpg"
                    alt="Little Mermaide"
                /></a>
              </div>
              <div class="carousel-item">
                <a href="./pages/detalle.html">
                  <img
                    class="imgPelis"
                    src="./assets/img/pelis/terminator_dark_fate_xlg.jpg"
                    alt="Terminator_dark"
                    loading="lazy"
                /></a>
              </div>
              <div class="carousel-item">
                <a href="./pages/detalle.html">
                  <img
                    class="imgPelis"
                    src="./assets/img/pelis/the_return_of_sherlock_holmes9781909175549.jpg"
                    alt="The Return of Sherlock Holmes"
                    loading="lazy"
                /></a>
              </div>
              <div>
                    <a href="./pages/detalle.html">
                  <a href="./pages/detalle.html">
                     <img
                       class="imgPelis"
                       src="./assets/img/pelis/thor_love_and_thunder_xlg.jpg"
                       alt="Thor_love_and_Thunder" 
                       loading="lazy"
                      /></a>
              </div>
            </div>
            <button
              class="carousel-control-prev"
              type="button"
              data-bs-target="#carouselExample"
              data-bs-slide="prev"
            >
              <span
                class="carousel-control-prev-icon"
                aria-hidden="true"
              ></span>
              <span class="visually-hidden">Previous</span>
            </button>
            <button
              class="carousel-control-next"
              type="button"
              data-bs-target="#carouselExample"
              data-bs-slide="next"
            >
              <span
                class="carousel-control-next-icon"
                aria-hidden="true"
              ></span>
              <span class="visually-hidden">Next</span>
            </button>
          </div>
        </div>
        <section>
          <h3 class="tituloTop">Los Top 10 de la semana</h3>
          <div class="contenedorTop">
            <div>
              <a href="./pages/detalle.html">
                <img
                  class="imgPelis"
                  src="./assets/img/pelis/oppenheimer.jpg"
                  alt="Oppenheimer"
              /></a>
            </div>

            <div>
              <a href="./pages/detalle.html">
                <img
                  class="imgPelis"
                  src="./assets/img/pelis/e_t_the_extra_terrestrial_ver1_xlg.jpg"
                  alt="ET The Extra_Terrestrial_Ver1"
                  loading="lazy"
              /></a>
            </div>

            <div>
              <a href="./pages/detalle.html">
                <img
                  class="imgPelis"
                  src="./assets/img/pelis/avatar_the_way_of_water_ver4.jpg"
                  alt="Avatar_the_way_of_water_ver4"
                  loading="lazy"
              /></a>
            </div>

            <div>
              <a href="./pages/detalle.html">
                <img
                  class="imgPelis"
                  src="./assets/img/pelis/dune_part_two_ver14.jpg"
                  alt="dune_part_two_ver14"
                  loading="lazy"
              /></a>
            </div>
            <div>
              <a href="./pages/detalle.html">
                <img
                  src="./assets/img/pelis/star_wars_the_rise_of_skywalker_ver4.jpg"
                  alt="Star Wars"
                  loading="lazy"
                />
              </a>
            </div>
            <div>
              <a href="./pages/detalle.html">
                <img
                  src="./assets/img/pelis/space_wars_quest_for_the_deepstar.jpg"
                  alt="space_wars_quest_for_the_deepstar"
                  loading="lazy"
                />
              </a>
            </div>
            <div>
              <a href="./pages/detalle.html">
                <img
                  src="./assets/img/pelis/shrek_two_ver8.jpg"
                  alt="Shrek"
                  loading="lazy"
                />
              </a>
            </div>
            <div>
              <a href="./pages/detalle.html">
                <img
                  src="./assets/img/pelis/misery_ver2.jpg"
                  alt="misery_ver2"
                  loading="lazy"
                />
              </a>
            </div>
            <div>
              <a href="./pages/detalle.html">
                <img
                  src="./assets/img/pelis/comedian.jpg"
                  alt="comedian"
                  loading="lazy"
                />
              </a>
            </div>
            <div>
              <a href="./pages/detalle.html">
                <img
                  src="./assets/img/pelis/jumanji_welcome_to_the_jungle_ver2.jpg"
                  alt="jumanji_welcome_to_the_jungle_ver2"
                  loading="lazy"
                />
              </a>
            </div>
          </div>
        </section>
        <section>
          <h2 class="text-center pt-5 mb-5 fs-1 tituloTop">
            Últimas incorporaciones
          </h2>
          <div class="container">
            <section id="peliculasSection" class="row">
              <!--aqui se agregaran las tarjetas de peliculas-->
            </section>
          </div>
        </section>
      </section>
    </main>

    <footer class="footerPrincipio">
      <nav class="navegacion">
        <ul class="lista">
          <li>
            <iframe
              class="mapa"
              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d4644.315050941971!2d-58.42634374798586!3d-34.60348719149188!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x95bcca63db6a86bb%3A0x4d3f603380a2bc04!2sMedrano%20Y%20Corrientes!5e0!3m2!1ses!2sar!4v1712977962554!5m2!1ses!2sar"
              width="90"
              height="70"
              style="border: 0"
              allowfullscreen=""
              loading="lazy"
              referrerpolicy="no-referrer-when-downgrade"
            ></iframe>
          </li>

          <li><a>Encontranos acá</a></li>
          <li><a>Términos y Condiciones</a></li>
          <li>
            <a href="Administrador de Peliculas">Administrador de Películas</a>
          </li>
        </ul>

        <ul class="redes">
          <li>
            <img
              src="./assets/img/fa6-brands--square-x-twitter.svg"
              alt="X"
              loading="lazy"
            />
          </li>
          <li>
            <img
              src="./assets/img/bxl--facebook-circle.svg"
              alt="Facebook"
              loading="lazy"
            />
          </li>
          <li>
            <img
              src="./assets/img/logos--instagram-icon.svg"
              alt="Instagram"
              loading="lazy"
            />
          </li>
        </ul>
        <div>
          <a href="#flecha">
            <img
              src="./assets/img/up-arrows_icon-icons.com_69819.png"
              alt="ir arriba"
              loading="lazy"
            />
          </a>
        </div>
      </nav>
    </footer>
    <script src="./js/bootstrap.bundle.min.js"></script>
    <script>
      // funcion que crea las tarjetas de peliculas
      // Función para crear una tarjeta (card) de película
      function crearTarjetaPelicula(pelicula) {
        // Crear elementos de la tarjeta de película
        // creamos la columna de bootstrap
        const card = document.createElement("div");
        card.classList.add(
          "col-10",
          "col-md-3",
          "card-body",
          "pelicula-section",
          "pelicula-card"
        );
        // estamos creando la tarjeta
        const cardInner = document.createElement("div");
        cardInner.classList.add("card");
        // creo la imagen de la tarjeta
        const cardImg = document.createElement("img");
        cardImg.classList.add("card-img-top");

        cardImg.src = `https://image.tmdb.org/t/p/w500/${pelicula.poster_path}`;
        cardImg.alt = pelicula.title;
        cardImg.loading = "lazy";

        // creamos el cuerpo de la tarjeta
        const cardBody = document.createElement("div");
        cardBody.classList.add("card-body");

        const cardTitle = document.createElement("h6");
        cardTitle.classList.add("card-title");
        cardTitle.textContent = pelicula.title;

        // Añadir elementos a la tarjeta de película
        cardBody.appendChild(cardTitle);
        cardInner.appendChild(cardImg);
        cardInner.appendChild(cardBody);
        // agrego la tarejta a la columna de bootstrap
        card.appendChild(cardInner);

        return card;
      }

      async function cargarPeliculas() {
        const URL = "https://api.themoviedb.org/3/trending/movie/week";

        // datos de la api
        const options = {
          method: "GET",
          headers: {
            accept: "application/json",
            Authorization:
              "Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIyY2M3MTk1MDliMzYzZWFlY2UzY2FkNzUxMjA4ZThlNCIsInN1YiI6IjY2MDc0ZWRhZTYyNzE5MDE3YzBiZmYxNyIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.csR2S703m9241-Z89WVZ8kLhQ601sabpymSCKZt5Mqs",
          },
        };

        try {
          // Realizamos una petición fetch a la API para obtener las películas populares
          const response = await fetch(`${URL}`, options);
          console.log(response);

          const data = await response.json(); // Convertimos la respuesta a JSON
          console.log(data);

          const movies = data.results; // Extraemos las películas de la respuesta, array de objetos de peliculas
          console.log(movies);

          const peliculasSection = document.getElementById("peliculasSection");
          peliculasSection.innerHTML = ""; // Limpiamos el contenido previo del contenedor
          movies.forEach((movie) => {
            const peliculaCard = crearTarjetaPelicula(movie); // Iteramos sobre las películas
            peliculasSection.appendChild(peliculaCard); // Añadimos la tarjeta de película al contenedor
          }); // Iteramos sobre las películas
        } catch (error) {
          console.error(error);
        }
      }

      // Llamar a la función para agregar las tarjetas de películas cuando el DOM esté cargado
      // document.addEventListener("DOMContentLoaded", agregarTarjetasPeliculas);
      // agregarTarjetasPeliculas();
      document.addEventListener("DOMContentLoaded", () => {
        cargarPeliculas();
      });
      // cargarPeliculas.addEventListener('click', cargarPeliculas);
    </script>

    <script src="js/test.js"></script>
  </body>
</html>
